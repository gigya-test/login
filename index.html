<html>
<head>
    <title>Gigya Login</title>
</head>
<body>
    <h2 id='domains'></h2>
    <p>https://gigya-test.github.io/login/?dataCenter=_dataCenter_&apiKey=_siteApiKey_</p>
<script>
// default site to create users for
var dataCenter = 'il1';
var apiKey = '3_M6fRJCEMS54keyScmDMyehcG2ox82uCikKW7L56XOcHvQBjoKpjLY_zRNg4nGJ6I';// __base_site_for_e2e
function onJSLoad() {
    gigya.accounts.showScreenSet({
    screenSet: 'Default-RegistrationLogin'
    })
    var domains = window.gigya.partnerSettings.baseDomains;
    var domainsEl = document.getElementById("domains");
    domainsEl.innerHTML = 'dataCenter: ' + dataCenter + '; site: ' + domains + '(' + apiKey +')';
}
function loadGigyaScript(url, callback) {
    // Adding the script tag to the head as suggested before
    var head = document.getElementsByTagName('head')[0];
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.src = url;

    // Then bind the event to the callback function.
    // There are several events for cross browser compatibility.
    script.onreadystatechange = callback;
    script.onload = callback;

    // Fire the loading
    head.appendChild(script);
}
    
var url = new URL(window.location.href);
dataCenter = url.searchParams.get("dataCenter") || dataCenter;
apiKey = url.searchParams.get("apiKey") || apiKey;
var apiUrl = `https://cdns.` + dataCenter + `.gigya.com/JS/gigya.js?apikey=` + apiKey
loadGigyaScript(apiUrl, onJSLoad)
// us1 / ida-test-soa  
// var apikey=3_tuy1llbPnwe1LmPPl3-UjbVZGwfhKht1mhH-jN0UrKZQLNJsVceDufxv4EUXkoXA    
</script>
</body>
</html>


